(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6d7876e"],{"3cbf":function(t,e,n){"use strict";var o=n("8a90"),a=n.n(o);a.a},"40e3":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{margin:"30px 0 30px 10px"}},[n("p",[n("label",[t._v("Pod总数:")]),n("span",[t._v(t._s(t.getPodsNum(!1)))]),n("label",[t._v("就绪:")]),n("span",{staticClass:"green"},[t._v(" "+t._s(t.getPodsNum(!0)))])])]),t._l(t.nslist,(function(e){return n("el-container",[n("el-header",[t._v(t._s(e.Name))]),n("el-main",[n("el-table",{attrs:{data:t.getPodsList(e.Name),border:"",fit:"","highlight-current-row":"","summary-method":t.getCount,"show-summary":""}},[n("el-table-column",{attrs:{align:"center",label:"序号",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!0)}),t._e(),n("el-table-column",{attrs:{label:"状态",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",{domProps:{innerHTML:t._s(t.getStatus(e.row.IsReady))}})]}}],null,!0)}),n("el-table-column",{attrs:{label:"名称",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(e.row.Name))]),n("p",{staticClass:"red"},[t._v(t._s(t.getMessage(e.row)))])]}}],null,!0)}),n("el-table-column",{attrs:{label:"镜像",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(e.row.Images))])]}}],null,!0)}),n("el-table-column",{attrs:{label:"创建时间",width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.CreateTime)+" ")]}}],null,!0)})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.getPodsTotal(e.Name),"page-size":5,"current-page":t.pages[e.Name],"hide-on-single-page":!0},on:{"update:currentPage":function(n){return t.$set(t.pages,e.Name,n)},"update:current-page":function(n){return t.$set(t.pages,e.Name,n)},"current-change":function(n){return t.changePage(e.Name,n)}}})],1)],1)}))],2)},a=[];n("4160"),n("159b"),n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var r=n("7570"),u=n("b775");function l(t,e){return Object(u["a"])({url:"/pods?ns="+t+"&current="+e,method:"get"})}var c=n("5a6c"),i={data:function(){return{nslist:null,pods:{},pages:{}}},created:function(){var t=this;Object(r["a"])().then((function(e){t.nslist=e.data,t.nslist.forEach((function(e){t.pages[e]=1,t.loadPods(e.Name,1)})),t.wsClient=Object(c["a"])(),t.wsClient.onmessage=function(e){if("ping"!==e.data){var n=JSON.parse(e.data);"pods"===n.type&&(t.pages[n.result.ns]=1,t.pods[n.result.ns]=n.result.data,t.$forceUpdate())}}}))},computed:{getPodsNum:function(t){var e=this;return function(t){var n=0;for(var o in e.pods)void 0!==s(e.pods[o])&&null!==e.pods[o]&&(n+=t?e.pods[o].Ext.ReadyNum:e.pods[o].Total);return n}},getPodsList:function(t){var e=this;return function(t){return void 0===s(e.pods[t])||null==e.pods[t]?null:e.pods[t].Data}},getPodsTotal:function(t){var e=this;return function(t){return void 0===s(e.pods[t])||null==e.pods[t]?0:e.pods[t].Total}}},methods:{changePage:function(t,e){this.loadPods(t,e)},loadPods:function(t,e){var n=this;l(t,e).then((function(e){n.pods[t]=e.data,n.$forceUpdate()}))},getStatus:function(t){return t?"<span class='green'>Active</span>":"<span class='red'>Waiting</span>"},getCount:function(t){var e=t.data,n=[];if(n[0]="pods合计",null!==e&&e.length>0){var o=e[0].NameSpace;void 0===s(this.pods[o])||null==this.pods[o]?n[1]=0:n[1]=this.pods[o].Total}else n[1]=0;return n},getMessage:function(t){return t.IsReady?"":t.Message}}},d=i,p=(n("3cbf"),n("2877")),f=Object(p["a"])(d,o,a,!1,null,null,null);e["default"]=f.exports},"5a6c":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(){var t=new WebSocket("ws://localhost:8080/ws");return t.onopen=function(){console.log("open")},t.onclose=function(t){console.log("close")},t.onerror=function(t){console.log(t)},t}},7570:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("b775");function a(){return Object(o["a"])({url:"/nslist",method:"get"})}},"8a90":function(t,e,n){}}]);